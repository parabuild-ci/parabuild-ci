<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_07) on Fri Apr 27 02:58:15 BST 2007 -->
<TITLE>
org.directwebremoting.guice
</TITLE>

<META NAME="keywords" CONTENT="org.directwebremoting.guice package">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="org.directwebremoting.guice";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Package</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-use.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/directwebremoting/fluent/package-summary.html"><B>PREV PACKAGE</B></A>&nbsp;
&nbsp;<A HREF="../../../org/directwebremoting/guice/spring/package-summary.html"><B>NEXT PACKAGE</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/directwebremoting/guice/package-summary.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<H2>
Package org.directwebremoting.guice
</H2>

   This package provides support for 
   <a href="http://code.google.com/p/google-guice/">Guice</a> 
   dependency injection in DWR-based web applications.
<P>
<B>See:</B>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="#package_description"><B>Description</B></A>
<P>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Interface Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../org/directwebremoting/guice/BindUtil.BindingProvider.html" title="interface in org.directwebremoting.guice">BindUtil.BindingProvider&lt;T&gt;</A></B></TD>
<TD>For fluent-style decoration with one or more method bindings when
 using <A HREF="../../../org/directwebremoting/guice/BindUtil.html#fromConstructor(java.lang.Class, com.google.inject.Key...)"><CODE>BindUtil.fromConstructor(java.lang.Class<T>, com.google.inject.Key...)</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../org/directwebremoting/guice/ContextCloseHandler.html" title="interface in org.directwebremoting.guice">ContextCloseHandler&lt;T&gt;</A></B></TD>
<TD>Called for each instance in a context when the context is closed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../org/directwebremoting/guice/ContextRegistry.html" title="interface in org.directwebremoting.guice">ContextRegistry&lt;C,R&gt;</A></B></TD>
<TD>Manages instances for a context.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../org/directwebremoting/guice/ContextScope.html" title="interface in org.directwebremoting.guice">ContextScope&lt;C&gt;</A></B></TD>
<TD>A scope that looks up providers in a current context, using itself as a
 provider for the context.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../org/directwebremoting/guice/InstanceProvider.html" title="interface in org.directwebremoting.guice">InstanceProvider&lt;T&gt;</A></B></TD>
<TD>Marker interface for <A HREF="../../../org/directwebremoting/guice/ContextRegistry.html" title="interface in org.directwebremoting.guice"><CODE>ContextRegistry</CODE></A> implementations to recognize
 registered instance providers.</TD>
</TR>
</TABLE>
&nbsp;

<P>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../org/directwebremoting/guice/AbstractContextCloseHandler.html" title="class in org.directwebremoting.guice">AbstractContextCloseHandler&lt;T&gt;</A></B></TD>
<TD>A partially implemented handler for objects contained in contexts that 
 are closing.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../org/directwebremoting/guice/AbstractContextScope.html" title="class in org.directwebremoting.guice">AbstractContextScope&lt;C,R&gt;</A></B></TD>
<TD>Partial implementation of <A HREF="../../../org/directwebremoting/guice/ContextScope.html" title="interface in org.directwebremoting.guice"><CODE>ContextScope</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../org/directwebremoting/guice/AbstractDwrModule.html" title="class in org.directwebremoting.guice">AbstractDwrModule</A></B></TD>
<TD>An extension of <CODE>AbstractModule</CODE> that adds DWR configuration methods,
 in conjunction with <A HREF="../../../org/directwebremoting/guice/DwrGuiceServlet.html" title="class in org.directwebremoting.guice"><CODE>DwrGuiceServlet</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../org/directwebremoting/guice/AbstractMapContextScope.html" title="class in org.directwebremoting.guice">AbstractMapContextScope&lt;C&gt;</A></B></TD>
<TD>A specialization of <A HREF="../../../org/directwebremoting/guice/AbstractContextScope.html" title="class in org.directwebremoting.guice"><CODE>AbstractContextScope</CODE></A> using a concurrent map
 to hold registered instance providers.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../org/directwebremoting/guice/AbstractSimpleContextScope.html" title="class in org.directwebremoting.guice">AbstractSimpleContextScope&lt;C&gt;</A></B></TD>
<TD>A specialization of <A HREF="../../../org/directwebremoting/guice/AbstractContextScope.html" title="class in org.directwebremoting.guice"><CODE>AbstractContextScope</CODE></A> for the case when
 the context identifier itself can serve as a string-keyed instance registry
 using synchronization on the context to provide atomic put-if-absent
 and remove-specific-value behavior.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../org/directwebremoting/guice/BindUtil.html" title="class in org.directwebremoting.guice">BindUtil</A></B></TD>
<TD>Binding utilities for creating ad hoc providers.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../org/directwebremoting/guice/DwrGuiceServlet.html" title="class in org.directwebremoting.guice">DwrGuiceServlet</A></B></TD>
<TD>An extension of the basic 
 <A HREF="../../../org/directwebremoting/servlet/DwrServlet.html" title="class in org.directwebremoting.servlet"><CODE>DwrServlet</CODE></A> 
 that configures itself for dependency injection with Guice.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../org/directwebremoting/guice/DwrGuiceServletContextListener.html" title="class in org.directwebremoting.guice">DwrGuiceServletContextListener</A></B></TD>
<TD>Register a concrete subclass of this as a servlet context listener to
 configure an <CODE>Injector</CODE> and stash it in the <CODE>ServletContext</CODE>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../org/directwebremoting/guice/DwrScopes.html" title="class in org.directwebremoting.guice">DwrScopes</A></B></TD>
<TD>Scopes available to DWR applications.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../org/directwebremoting/guice/GuiceCreator.html" title="class in org.directwebremoting.guice">GuiceCreator</A></B></TD>
<TD>A creator that uses Guice dependency injection to create remoted objects.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../org/directwebremoting/guice/InternalAjaxFilterManager.html" title="class in org.directwebremoting.guice">InternalAjaxFilterManager</A></B></TD>
<TD>Extends an existing ajax filter manager with an injected list of ajax filters
 specified at Guice bind-time.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../org/directwebremoting/guice/InternalConfigurator.html" title="class in org.directwebremoting.guice">InternalConfigurator</A></B></TD>
<TD>Delegates to an injected configurator.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../org/directwebremoting/guice/InternalConverterManager.html" title="class in org.directwebremoting.guice">InternalConverterManager</A></B></TD>
<TD>Extends an existing converter manager with an injected list of converters
 specified at Guice bind-time.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../org/directwebremoting/guice/InternalCreatorManager.html" title="class in org.directwebremoting.guice">InternalCreatorManager</A></B></TD>
<TD>Extends an existing creator manager with an injected list of creators
 specified at Guice bind-time.</TD>
</TR>
</TABLE>
&nbsp;

<P>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Enum Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../org/directwebremoting/guice/ParamName.html" title="enum in org.directwebremoting.guice">ParamName</A></B></TD>
<TD>Parameters used to configure DWR.</TD>
</TR>
</TABLE>
&nbsp;

<P>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Exception Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../org/directwebremoting/guice/OutOfScopeException.html" title="class in org.directwebremoting.guice">OutOfScopeException</A></B></TD>
<TD>Thrown by Providers returned by 
 <CODE>scope(Key, Provider)</CODE>
 when they cannot locate a resource needed to resolve a key.</TD>
</TR>
</TABLE>
&nbsp;

<P>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Annotation Types Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../org/directwebremoting/guice/ApplicationScoped.html" title="annotation in org.directwebremoting.guice">ApplicationScoped</A></B></TD>
<TD>Marks classes for which there should be one instance per web application 
 (i.e., per servlet context) and these instances should be created eagerly
 at servlet <code>init()</code> and closed (when they implement <code>Closeable</code>) 
 at servlet <code>destroy()</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../org/directwebremoting/guice/GlobalApplicationScoped.html" title="annotation in org.directwebremoting.guice">GlobalApplicationScoped</A></B></TD>
<TD>Marks classes for which there should be one instance per web application 
 (i.e., per servlet context).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../org/directwebremoting/guice/RequestParameters.html" title="annotation in org.directwebremoting.guice">RequestParameters</A></B></TD>
<TD>Marks fields or parameters of type <code>Map&lt;String, String[]&gt;</code>
 that are to be injected with the parameter map of the current
 HTTP request.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../org/directwebremoting/guice/RequestScoped.html" title="annotation in org.directwebremoting.guice">RequestScoped</A></B></TD>
<TD>Marks classes for which there should be one instance per HTTP request.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../org/directwebremoting/guice/ScriptSessionScoped.html" title="annotation in org.directwebremoting.guice">ScriptSessionScoped</A></B></TD>
<TD>Marks classes for which there should be one instance per script session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../org/directwebremoting/guice/SessionScoped.html" title="annotation in org.directwebremoting.guice">SessionScoped</A></B></TD>
<TD>Marks classes for which there should be one instance per HTTP session.</TD>
</TR>
</TABLE>
&nbsp;

<P>
<A NAME="package_description"><!-- --></A><H2>
Package org.directwebremoting.guice Description
</H2>

<P>
<p>
   This package provides support for 
   <a href="http://code.google.com/p/google-guice/">Guice</a> 
   dependency injection in DWR-based web applications. 
   This documentation assumes you already understand Guice concepts.
 </p>
 <p>
   To use this support minimally,
   <ul>
   <li> install a concrete extension of 
     <A HREF="../../../org/directwebremoting/guice/DwrGuiceServletContextListener.html" title="class in org.directwebremoting.guice"><CODE>DwrGuiceServletContextListener</CODE></A>
     as a <code>&lt;listener&gt;</code> in your web application's configuration
     file (<code>web.xml</code>), </li>
   <li> install <A HREF="../../../org/directwebremoting/guice/DwrGuiceServlet.html" title="class in org.directwebremoting.guice"><CODE>DwrGuiceServlet</CODE></A> for all 
     requests to <code>/dwr/*</code>. </li>
   </ul>
   For example:
 </p>
 <pre>
   &lt;listener&gt;
     &lt;listener-class&gt;org.myorg.myproj.MyServletContextListener&lt;/listener-class&gt;
   &lt;/listener&gt;

   &lt;servlet&gt;
     &lt;servlet-name&gt;dwr-invoker&lt;/servlet-name&gt;
     &lt;servlet-class&gt;org.directwebremoting.guice.DwrGuiceServlet&lt;/servlet-class&gt;
   &lt;/servlet&gt;

   &lt;servlet-mapping&gt;
     &lt;servlet-name&gt;dwr-invoker&lt;/servlet-name&gt;
     &lt;url-pattern&gt;/dwr/*&lt;/url-pattern&gt;
   &lt;/servlet-mapping&gt;
 </pre>
 <p>
   <A HREF="../../../org/directwebremoting/guice/DwrGuiceServletContextListener.html" title="class in org.directwebremoting.guice"><CODE>DwrGuiceServletContextListener</CODE></A>
   is also an abstract Guice module; it extends 
   <A HREF="../../../org/directwebremoting/guice/AbstractDwrModule.html" title="class in org.directwebremoting.guice"><CODE>AbstractDwrModule</CODE></A>, 
   which in turn extends Guice's <CODE>AbstractModule</CODE>.
   Your listener class must define
   <A HREF="../../../org/directwebremoting/guice/AbstractDwrModule.html#configure()"><CODE>configure</CODE></A>;
   this is where you do your Guice binding.
   You can also put binding code in a separate class or classes with
   <CODE>AbstractModule.install</CODE>.
 </p>
 <p>
   Use <A HREF="../../../org/directwebremoting/guice/GuiceCreator.html" title="class in org.directwebremoting.guice"><CODE>GuiceCreator</CODE></A>
   when annotating classes with <code>RemoteProxy</code>. When you use a 
   <code>GuiceCreator</code> to create your remoted objects, it gets an 
   instance from a Guice injector using your bindings. 
 </p>
 <p>
   For bind-time control over how JavaScript names map to Java targets, use the
   <A HREF="../../../org/directwebremoting/guice/AbstractDwrModule.html#bindRemoted(java.lang.Class)"><CODE>bindRemoted</CODE></A>
   or
   <A HREF="../../../org/directwebremoting/guice/AbstractDwrModule.html#bindRemotedAs(java.lang.String, java.lang.Class)"><CODE>bindRemotedAs</CODE></A>
   methods. The target of the script can be an abstract class or interface 
   bound in the normal Guice way to a concrete class, instance, or provider. 
   In that case only the methods defined on the abstract class or 
   interface are accessible, even if the implementing class has other public 
   methods. You can supply different bindings for different script names, including
   using the same interface with different implementations for different script names,
   or different interfaces for different script names mapping to the same implementation
   type (assuming it implements both interfaces).
 </p>
 <p>
   You can bind a type or type pattern string to a custom converter with
   <A HREF="../../../org/directwebremoting/guice/AbstractDwrModule.html#bindConversion(java.lang.Class)"><CODE>bindConversion</CODE></A>,
   and you can put Ajax filters on scripts with
   <A HREF="../../../org/directwebremoting/guice/AbstractDwrModule.html#bindFilter(java.lang.String)"><CODE>bindFilter</CODE></A>.
   Note, however, that you can achieve the same effect (and more flexibly) using Guice's 
   <code>bindInterceptors</code> method.
 </p>
 <p>
   You can install your own DWR configurator using
   <code>bind(Configurator.class).toInstance(yourConfigurator)</code>, 
   which then overrides any <code>dwr.xml</code> configuration. 
   You'll probably want to use a
   <A HREF="../../../org/directwebremoting/fluent/FluentConfigurator.html" title="class in org.directwebremoting.fluent"><CODE>FluentConfigurator</CODE></A>
   for this purpose.
 </p>
 <p>
   You can still configure DWR's settings normally via <code>&lt;init-param&gt;</code> 
   directives in <code>web.xml</code>, but usually there is no need to. Most DWR 
   settings can be set with
   <A HREF="../../../org/directwebremoting/guice/AbstractDwrModule.html#bindParameter(org.directwebremoting.guice.ParamName)"><CODE>bindParameter</CODE></A>. 
   The <A HREF="../../../org/directwebremoting/guice/ParamName.html" title="enum in org.directwebremoting.guice"><CODE>ParamName</CODE></A> 
   enum type lists the available parameters.
 </p>
 <p>
   To be able to use the DWR scopes for all your injected objects, not just
   DWR-remoted objects, your binding code should call 
   <A HREF="../../../org/directwebremoting/guice/AbstractDwrModule.html#bindDwrScopes()"><CODE>bindDwrScopes</CODE></A>
   at some point.
 </p>
 <p>
   For creating your own scopes where the instance injected depends on some
   run-time value, create a concrete extension of 
   <A HREF="../../../org/directwebremoting/guice/AbstractContextScope.html" title="class in org.directwebremoting.guice"><CODE>AbstractContextScope</CODE></A>.
 </p>
 <p>
   This example illustrates two ways to define remoted objects,
   calling <code>bindRemotedAs</code> and annotating with <code>@RemoteProxy</code>;
   two ways to define conversions, using <code>bindConversion</code>
   and using a custom configurator; how to register annotated classes
   at bind-time; how to bind a script name to an <code>AjaxFilter</code>; and
   how to set a DWR parameter (debug, in this case) at bind-time.
   It does not use an <code>&lt;init-param&gt;</code> directive, and it doesn't have
   a <code>dwr.xml</code>.
 </p>
 <pre>
    public final class MyServletContextListener extends DwrGuiceServletContextListener
    {
        protected void configure()
        {
            bindRemotedAs("Hello", HelloService.class)
                .to(HelloServiceImpl.class)
                .in(DwrScopes.APPLICATION);

            bindFilter("Hello")
                .to(TraceFilter.class);

            bind(MessageService.class)
                .to(MessageServiceImpl.class)
                .in(DwrScopes.SCRIPT);

            bindAnnotatedClasses(
                DomainService.class,   // @RemoteProxy(creator=GuiceCreator.class)/@RemoteMethod
                HelloRecordImpl.class  // @DataTransferObject/@RemoteProperty
            );
            
            // When converting HelloRecord, use existing converter for HelloRecordImpl.
            bindConversion(HelloRecord.class, HelloRecordImpl.class);

            bindConversion(DateTime.class)
                .toInstance(DateTimeConverter.get("yyyy-MM-dd hh:mm a"));

            bind(Configurator.class).toInstance(new FluentConfigurator()
            {
                public void configure() {
                    String localTime = "localTime";
                    withConverterType(localTime, DateTimeConverter.class.getName());
                    withConverter(localTime, LocalTime.class.getName())
                        .addParam("format", "yyyy-MM-dd");
                }
            });

            bindParameter(DEBUG).to(true);

            bindDwrScopes();
        }
    }
 </pre>
 <p>
   Note that because application scope is larger than script session scope, 
   <code>HelloServiceImpl</code> has an injected constructor (not shown here)
   that takes a <code>Provider&lt;MessageService&gt;</code> rather than a plain
   <code>MessageService</code>.
 </p>
 <p>
   There are four classes with names that start with "Internal". These classes
   have to be public with a parameterless constructor so the non-Guicy DWR
   machinery can create them. They are not meant to be used directly.
 </p>
 <p>
   The classes that handle DWR scopes are modeled on the classes in the
   <code>com.google.inject.servlet</code> package, but are independent of them.
   You do <em>not</em> need to install the Guice <code>ServletModule</code> and
   <code>GuiceFilter</code> to use the DWR scopes, but if you do, you have to be 
   careful to install the DWR scopes without creating conflicting bindings 
   for request, response, and session. Calling
   <A HREF="../../../org/directwebremoting/guice/AbstractDwrModule.html#bindDwrScopes(boolean)"><CODE>bindDwrScopes(false)</CODE></A>
   accomplishes this.
 </p>
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>Tim Peierls [tim at peierls dot net]</DD>
</DL>
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Package</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-use.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
Copyright ¬ 2005</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/directwebremoting/fluent/package-summary.html"><B>PREV PACKAGE</B></A>&nbsp;
&nbsp;<A HREF="../../../org/directwebremoting/guice/spring/package-summary.html"><B>NEXT PACKAGE</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/directwebremoting/guice/package-summary.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
